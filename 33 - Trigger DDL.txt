--Conectado com sys a sysdba
CREATE TABLE LOG_DDL(
DATA DATE,
USUARIO VARCHAR2(40),
SCHEMA VARCHAR2(30),
OPERACAO VARCHAR2(100),
OBJETO VARCHAR2(1000)
);
SELECT * FROM LOG_DDL;

--Criando Trigger com sys a sysdba
--Trigger ligada ao DB, ou seja, algo relacionado ao objeto
--  
CREATE OR REPLACE TRIGGER TRI_LOG_DDL BEFORE DDL ON DATABASE 
DECLARE
    V_OPER VARCHAR2(30);
    V_SCHEMA  VARCHAR2(30);
    V_OBJ VARCHAR2(30);
BEGIN
    SELECT ORA_SYSEVENT, ORA_DICT_OBJ_OWNER, ORA_DICT_OBJ_NAME
    INTO V_OPER, V_SCHEMA, V_OBJ FROM DUAL;
    INSERT INTO LOG_DDL VALUES (SYSDATE, USER, V_SCHEMA, V_OPER, V_OBJ);
END;


--Conectado com o usuário ALUNO
--Comando DDL
DROP TABLE TESTE;

--Logado com o user SYS
SELECT * FROM LOG_DDL